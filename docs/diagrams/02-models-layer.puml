@startuml DaySave Models Layer
!theme plain
title DaySave Models Layer - Database Schema Overview

' Define colors and styles
skinparam packageStyle rectangle
skinparam backgroundColor #F8F9FA
skinparam component {
    BackgroundColor #E8F5E8
    BorderColor #4CAF50
    FontColor #2E7D32
}
skinparam package {
    BackgroundColor #FFF3E0
    BorderColor #F57C00
    FontColor #E65100
    FontStyle bold
}

' Core Models
package "Core User Models" {
    component User
    component Role
    component Permission
    component RolePermission
    component UserRole
    component SocialAccount
    component UserPasskey
    component UserDevice
}

' Content Models
package "Content Management" {
    component Content
    component File
    component Comment
    component ContentGroup
    component ShareLog
    component ProcessingJob
}

' Contact Models  
package "Contact System" {
    component Contact
    component ContactGroup
    component ContactGroupMember
    component Address
    component Phone
    component Email
    component Relationship
}

' AI Analysis Models
package "AI Analysis Results" {
    component VideoAnalysis
    component AudioAnalysis
    component ImageAnalysis
    component DocumentAnalysis
    component OCRCaption
    component Speaker
    component Face
    component Thumbnail
    component VoicePrint
}

' Administrative Models
package "System Administration" {
    component AuditLog
    component AuditArchive
    component ApiKey
    component AdminSetting
    component LoginAttempt
    component Session
    component PasswordReset
}

' Subscription Models
package "Billing & Usage" {
    component Subscription
    component UsageTracking
    component CostConfiguration
    component StorageUsage
    component AiUsage
    component UsageAlert
}

' Key Relationships
User --> Content : creates
User --> Contact : owns
User --> Subscription : has
Content --> File : contains
Content --> VideoAnalysis : analyzed_by
File --> ProcessingJob : processed_by
Speaker --> VoicePrint : identified_by

note bottom : Comprehensive models with extensive relationships\nMySQL database with migration files\nUUID primary keys throughout

@enduml
